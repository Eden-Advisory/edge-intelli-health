<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EdgeAI Medical Technology Visualizations</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Interactive visualization of AI-enabled medical device technologies and innovation opportunities in healthcare">
    <meta name="keywords" content="AI healthcare, medical technology, edge computing, wearable monitoring, healthcare innovation, medical devices">
    <meta name="author" content="Jedi Labs + DesignPlex">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://health.edge.ai.labs.jedi-ops.dev/knowledge-graph">
    <meta property="og:title" content="EdgeAI Medical Technology Knowledge Graph">
    <meta property="og:description" content="Interactive visualization of AI-enabled medical device technologies and innovation opportunities in healthcare">
    <meta property="og:image" content="https://health.edge.ai.labs.jedi-ops.dev/images/graph-preview.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://health.edge.ai.labs.jedi-ops.dev/knowledge-graph">
    <meta property="twitter:title" content="EdgeAI Medical Technology Knowledge Graph">
    <meta property="twitter:description" content="Interactive visualization of AI-enabled medical device technologies and innovation opportunities in healthcare">
    <meta property="twitter:image" content="https://health.edge.ai.labs.jedi-ops.dev/images/graph-preview.jpg">
    <style>
        :root {
            --primary: #00d4ff;
            --secondary: #7000ff;
            --accent: #ff00aa;
            --dark: #12171f;
            --dark-lighter: #192231;
            --text: #e0e7ff;
            --glow: 0 0 10px var(--primary), 0 0 20px rgba(0, 212, 255, 0.3);
            --purple-glow: 0 0 10px var(--secondary), 0 0 20px rgba(112, 0, 255, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
        }
        
        body {
            background-color: var(--dark);
            color: var(--text);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background-color: rgba(0, 0, 0, 0.3);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--primary);
            box-shadow: var(--glow);
            z-index: 10;
            position: relative;
        }
        
        h1 {
            font-size: 1.8rem;
            font-weight: 300;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
        }
        
        h1 span {
            color: var(--primary);
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 0.25rem;
        }
        
        .credits {
            font-size: 0.8rem;
            margin-top: 0.5rem;
            opacity: 0.7;
        }
        
        .credits a {
            color: var(--primary);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .credits a:hover {
            opacity: 1;
            text-decoration: underline;
            text-shadow: 0 0 8px var(--primary);
        }
        
        /* Tab navigation */
        .tab-container {
            display: flex;
            flex-direction: column;
            flex: 1;
            overflow: hidden;
            position: relative;
        }
        
        .tab-navigation {
            display: flex;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.3);
            z-index: 10;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) transparent;
        }
        
        .tab-navigation::-webkit-scrollbar {
            height: 5px;
        }
        
        .tab-navigation::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 5px;
        }
        
        .tab-button {
            background-color: transparent;
            border: none;
            color: var(--text);
            padding: 0.7rem 1.5rem;
            margin-right: 0.5rem;
            cursor: pointer;
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
            font-weight: 500;
            position: relative;
            bottom: -1px;
            transition: all 0.3s ease;
            opacity: 0.7;
            white-space: nowrap;
        }
        
        .tab-button:hover {
            opacity: 1;
            background-color: rgba(0, 212, 255, 0.1);
        }
        
        .tab-button.active {
            background-color: rgba(0, 212, 255, 0.2);
            border: 1px solid rgba(0, 212, 255, 0.5);
            border-bottom: 1px solid var(--dark);
            box-shadow: 0 -2px 8px rgba(0, 212, 255, 0.2);
            opacity: 1;
        }
        
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: var(--dark);
            z-index: 2;
        }
        
        .tab-button:nth-child(2) {
            border-color: rgba(112, 0, 255, 0.5);
        }
        
        .tab-button:nth-child(2).active {
            background-color: rgba(112, 0, 255, 0.2);
            box-shadow: 0 -2px 8px rgba(112, 0, 255, 0.2);
        }
        
        .tab-button:nth-child(3) {
            border-color: rgba(255, 0, 170, 0.5);
        }
        
        .tab-button:nth-child(3).active {
            background-color: rgba(255, 0, 170, 0.2);
            box-shadow: 0 -2px 8px rgba(255, 0, 170, 0.2);
        }
        
        .tab-content {
            flex: 1;
            overflow: hidden;
            position: relative;
            height: calc(100vh - 115px);
        }
        
        .tab-panel {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
            overflow: hidden;
        }
        
        .tab-panel.active {
            opacity: 1;
            visibility: visible;
            z-index: 5;
        }
        
        /* Visualization elements common across tabs */
        .visualization {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        svg {
            width: 100%;
            height: 100%;
        }
        
        .grid {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -2;
        }
        
        .pulse {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.5;
            animation: pulse 8s infinite ease-in-out;
        }
        
        /* Grid and pulse styles for each tab */
        #graph-panel .grid {
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
        }
        
        #graph-panel .pulse {
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.05) 0%, transparent 60%);
        }
        
        #architecture-panel .grid {
            background-image: 
                linear-gradient(rgba(112, 0, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(112, 0, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        #architecture-panel .pulse {
            background: radial-gradient(circle at center, rgba(112, 0, 255, 0.05) 0%, transparent 60%);
        }
        
        @keyframes pulse {
            0% { opacity: 0.2; }
            50% { opacity: 0.5; }
            100% { opacity: 0.2; }
        }
        
        /* Knowledge Graph Specific Styles */
        .link {
            stroke-opacity: 0.5;
            transition: stroke-opacity 0.3s;
        }
        
        .link:hover {
            stroke-opacity: 0.8;
        }
        
        .node text {
            fill: var(--text);
            font-size: 10px;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.9);
            pointer-events: none;
        }
        
        .cluster-node {
            filter: drop-shadow(0 0 8px rgba(0, 212, 255, 0.7));
        }
        
        .info-panel {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 300px;
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--primary);
            border-radius: 5px;
            padding: 1rem;
            box-shadow: var(--glow);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 100;
            max-width: calc(100% - 2rem);
        }
        
        .info-panel.visible {
            opacity: 1;
            pointer-events: auto;
        }
        
        .info-panel-close {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            color: var(--primary);
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            display: none;
        }
        
        .info-title {
            color: var(--primary);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.3);
            padding-bottom: 0.5rem;
            padding-right: 20px;
        }
        
        .info-content {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .info-content p {
            margin-bottom: 0.5rem;
        }
        
        .info-content strong {
            color: var(--primary);
        }
        
        .legend {
            position: absolute;
            left: 1rem;
            bottom: 1rem;
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--primary);
            border-radius: 5px;
            padding: 0.8rem;
            font-size: 0.9rem;
            box-shadow: var(--glow);
            z-index: 100;
            max-width: calc(100% - 2rem);
            overflow-y: auto;
            max-height: 40vh;
        }
        
        .legend-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.4rem;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            margin-right: 8px;
            border-radius: 50%;
        }
        
        .control-panel {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 100;
        }
        
        .control-btn {
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--primary);
            color: var(--primary);
            border-radius: 5px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
            box-shadow: var(--glow);
        }
        
        .control-btn:hover {
            background-color: rgba(0, 212, 255, 0.2);
        }

        .hover-glow {
            transition: all 0.3s;
        }
        
        .hover-glow:hover {
            filter: drop-shadow(0 0 8px var(--primary));
        }
        
        /* Architecture Panel Specific Styles */
        .mermaid-container {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            padding: 1rem;
        }
        
        .mermaid-wrapper {
            flex: 1;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--secondary);
            border-radius: 5px;
            padding: 1rem;
            box-shadow: var(--purple-glow);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #data-flow-panel .mermaid-wrapper {
            border-color: var(--accent);
            box-shadow: 0 0 10px var(--accent), 0 0 20px rgba(255, 0, 170, 0.3);
        }
        
        /* Zoom controls for sequence diagram */
        .zoom-controls {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 100;
        }
        
        .zoom-btn {
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--accent);
            color: var(--accent);
            border-radius: 5px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 10px var(--accent), 0 0 20px rgba(255, 0, 170, 0.3);
        }
        
        .zoom-btn:hover {
            background-color: rgba(255, 0, 170, 0.2);
        }
        
        #data-flow-panel .zoom-btn {
            border-color: var(--accent);
            color: var(--accent);
            box-shadow: 0 0 10px var(--accent), 0 0 20px rgba(255, 0, 170, 0.3);
        }
        
        #architecture-panel .zoom-btn {
            border-color: var(--secondary);
            color: var(--secondary);
            box-shadow: 0 0 10px var(--secondary), 0 0 20px rgba(112, 0, 255, 0.3);
        }
        
        #architecture-panel .zoom-btn:hover {
            background-color: rgba(112, 0, 255, 0.2);
        }
        
        .diagram-description {
            text-align: center;
            margin: 1rem auto;
            max-width: 800px;
            color: var(--text);
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        /* Override mermaid styles to match our theme */
        .mermaid {
            background-color: transparent !important;
            font-family: 'Segoe UI', 'Roboto', sans-serif !important;
            min-width: 800px;
            transition: transform 0.3s ease;
        }
        
        #architecture-diagram-wrapper .mermaid {
            min-width: 900px;
        }
        
        #sequence-diagram-wrapper .mermaid {
            min-width: 1000px;
        }
        
        .mermaid text {
            fill: var(--text) !important;
        }
        
        .mermaid .edgeLabel {
            color: var(--text) !important;
            background-color: rgba(0, 0, 0, 0.7) !important;
        }
        
        .mermaid .node rect, 
        .mermaid .node circle, 
        .mermaid .node ellipse, 
        .mermaid .node polygon, 
        .mermaid .node path {
            fill: var(--dark-lighter) !important;
            stroke: var(--secondary) !important;
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .subtitle {
                font-size: 0.8rem;
            }
            
            .tab-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
            
            .legend {
                font-size: 0.8rem;
                padding: 0.6rem;
                max-height: 35vh;
            }
            
            .legend-title {
                font-size: 0.9rem;
            }
            
            .legend-item {
                margin-bottom: 0.3rem;
            }
            
            .control-panel {
                flex-direction: column;
                gap: 0.3rem;
                bottom: auto;
                top: 5rem;
                right: 0.5rem;
                width: auto;
            }
            
            .control-btn {
                padding: 0.4rem 0.6rem;
                font-size: 0.7rem;
            }
            
            .info-panel {
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                max-height: 80vh;
                overflow-y: auto;
            }
            
            .info-panel-close {
                display: block;
            }
            
            .node text {
                font-size: 8px;
            }
            
            .mermaid-wrapper {
                padding: 0.5rem;
            }
            
            .diagram-description {
                font-size: 0.9rem;
                margin: 0.5rem auto;
            }
            
            .zoom-controls {
                top: 0.5rem;
                right: 0.5rem;
            }
            
            .zoom-btn {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }
            
            #sequence-diagram-wrapper .mermaid {
                min-width: 800px;
                transform-origin: top left;
            }
        }
        
        @media (max-width: 576px) {
            header {
                padding: 0.8rem 1rem;
            }
            
            h1 {
                font-size: 1.2rem;
            }
            
            .subtitle {
                font-size: 0.7rem;
            }
            
            .credits {
                font-size: 0.7rem;
            }
            
            .tab-navigation {
                padding: 0.3rem 0.5rem 0;
            }
            
            .tab-button {
                padding: 0.4rem 0.7rem;
                font-size: 0.8rem;
                margin-right: 0.3rem;
            }
            
            .legend {
                bottom: 0.5rem;
                left: 0.5rem;
                padding: 0.5rem;
                max-width: calc(100% - 1rem);
            }
            
            footer {
                padding: 0.8rem 1rem;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
            
            .footer-logo {
                font-size: 1rem;
            }
            
            .footer-credit {
                font-size: 0.7rem;
            }
        }
        
        /* Touch optimizations */
        @media (pointer: coarse) {
            .hover-glow:hover {
                filter: none;
            }
            
            .tab-button {
                padding: 0.7rem 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Edge<span>AI</span> Point of Care Data Platform</h1>
        <div class="subtitle">Visualizing the ecosystem of AI-driven healthcare innovations</div>
        <div class="credits">
            A project by <a href="https://eden.yeetum.com" target="_blank" rel="noopener">Eden Advisory</a> × <a href="https://designplexbio.com" target="_blank" rel="noopener">DesignPlex</a>
        </div>
    </header>
    
    <div class="tab-container">
        <div class="tab-navigation">
            <button class="tab-button active" data-target="graph-panel">Knowledge Graph</button>
            <button class="tab-button" data-target="architecture-panel">Platform Architecture</button>
            <button class="tab-button" data-target="data-flow-panel">Network Data Flow</button>
        </div>
        
        <div class="tab-content">
            <!-- Knowledge Graph Panel -->
            <div id="graph-panel" class="tab-panel active">
                <div class="visualization">
                    <div class="grid"></div>
                    <div class="pulse"></div>
                </div>
                
                <div class="info-panel">
                    <button class="info-panel-close">&times;</button>
                    <div class="info-title">Select a node to see details</div>
                    <div class="info-content">
                        Click on any node in the graph to view detailed information about that opportunity or technology cluster.
                    </div>
                </div>
                
                <div class="legend">
                    <div class="legend-title">Technology Clusters</div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FF5733;"></div>
                        <div>Wearable Monitoring (A)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #33FF57;"></div>
                        <div>Portable Imaging (B)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #3357FF;"></div>
                        <div>Adaptive Therapeutics (C)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #F033FF;"></div>
                        <div>Point-of-Care Diagnostics (D)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FF33F0;"></div>
                        <div>Surgical Assistance (E)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FFBD33;"></div>
                        <div>Rehabilitation Systems (F)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #33FFF0;"></div>
                        <div>Smart Implantables (G)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #BD33FF;"></div>
                        <div>Neurological Assessment (H)</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FFFFFF;"></div>
                        <div>Uncategorized</div>
                    </div>
                </div>
                
                <div class="control-panel">
                    <button class="control-btn" id="reset-zoom">Reset View</button>
                    <button class="control-btn" id="toggle-layout">Reorganize</button>
                </div>
            </div>
            
            <!-- Platform Architecture Panel -->
            <div id="architecture-panel" class="tab-panel">
                <div class="grid"></div>
                <div class="pulse"></div>
                
                <div class="mermaid-container">
                    <div class="diagram-description">
                        <p>Secure, HIPAA-compliant data flow architecture powering the EdgeAI healthcare platform. This system enables real-time processing of health data at the edge while maintaining privacy and security.</p>
                    </div>
                    <div class="zoom-controls">
                        <button class="zoom-btn architecture-zoom-btn" id="architecture-zoom-in">+</button>
                        <button class="zoom-btn architecture-zoom-btn" id="architecture-zoom-reset">⟲</button>
                        <button class="zoom-btn architecture-zoom-btn" id="architecture-zoom-out">-</button>
                    </div>
                    <div class="mermaid-wrapper" id="architecture-diagram-wrapper">
                        <div class="mermaid">
flowchart TB
    %% Styling
    classDef device fill:#0D1B2A,stroke:#7000ff,color:#e0e7ff,stroke-width:1px
    classDef storage fill:#111E2C,stroke:#ff00aa,color:#e0e7ff,stroke-width:1px
    classDef process fill:#121C2C,stroke:#7000ff,color:#e0e7ff,stroke-width:1px
    classDef aimodel fill:#2D3142,stroke:#7000ff,color:#e0e7ff,stroke-width:1px
    classDef api fill:#131824,stroke:#7000ff,color:#e0e7ff,stroke-width:1px
    classDef client fill:#0F172A,stroke:#7000ff,color:#e0e7ff,stroke-width:1px
    classDef stream fill:#000000,stroke:#7000ff,color:#7000ff,stroke-width:2px,stroke-dasharray: 5 5
    classDef secure fill:#000000,stroke:#ff00aa,color:#ff00aa,stroke-width:1px
    
    subgraph Healthcare_Edge_Computing_Network["Healthcare Edge Computing Network"]
        S[Patient Monitoring Device 1]:::device -->|Real-time Data| Z
        T[Patient Monitoring Device 2]:::device -->|Real-time Data| Z
        Y[Remote Diagnostic Device N]:::device -->|Real-time Data| Z
        
        subgraph Edge_Processing_Hub["Edge Processing Hub"]
            subgraph Secure_Data_Gateway["Secure Data Gateway"]
                Z([health.data.stream]):::stream
                U[(HIPAA-Compliant Storage)]:::secure
            end
            Z -->|Process| A{AI Inference Router}:::process
            E[(Patient Health DB)]:::storage
            R[(De-identified Research DB)]:::storage
            A --> |Store w/ retention policy| E
            E --> |De-identify & Transform| R
            R --> |Secure Transfer| Q[Research Repository]:::storage
        end
        
        subgraph AI_Models["AI Models"]
            A <-->|Anomaly Detection| M[Vital Signs Analysis]:::aimodel
            A <-->|Image Processing| I[Diagnostic Imaging]:::aimodel
            A <-->|Event Prediction| P[Patient Risk Assessment]:::aimodel
        end
        
        subgraph API_Access_Control_Layer["API Access Control Layer"]
            F[Authentication Service]:::api
            G[Authorization Service]:::api
            B[Rate Limiting]:::api
            K[Audit Logging]:::api
        end
        
        subgraph Healthcare_Providers["Healthcare Providers"]
            F --> |TLS 1.3| H[Clinical Dashboard]:::client
            G --> |TLS 1.3| H
            F --> |TLS 1.3| C[Emergency Response]:::client
            G --> |TLS 1.3| C
            F --> |TLS 1.3| D[Doctor's Mobile App]:::client
            G --> |TLS 1.3| D
        end
        
        E -->|Protected Data| F
        A -->|Controlled Access| G
        
        subgraph Research_Access["Research Access"]
            Q --> |Aggregate Analytics| V[Population Health Studies]:::client
            Q --> |Anonymized Data| W[Clinical Research]:::client
            Q --> |Model Training| X[AI Model Development]:::client
        end
    end
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Network Data Flow Panel -->
            <div id="data-flow-panel" class="tab-panel">
                <div class="grid"></div>
                <div class="pulse"></div>
                
                <div class="mermaid-container">
                    <div class="diagram-description">
                        <p>Temporal sequence of data flow through the EdgeAI healthcare system, showing real-time interactions between components and the secure processing pipeline from data capture to clinical application.</p>
                    </div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" id="zoom-in">+</button>
                        <button class="zoom-btn" id="zoom-reset">⟲</button>
                        <button class="zoom-btn" id="zoom-out">-</button>
                    </div>
                    <div class="mermaid-wrapper" id="sequence-diagram-wrapper">
                        <div class="mermaid">
sequenceDiagram
    participant PMD as Patient Monitoring Devices
    participant RDD as Remote Diagnostic Devices
    participant HDS as health.data.stream
    participant AIR as AI Inference Router
    participant AIM as AI Models
    participant PHD as Patient Health DB
    participant RDB as De-identified Research DB
    participant RR as Research Repository
    participant ACL as API Access Control Layer
    participant HP as Healthcare Providers
    participant RA as Research Access
    
    PMD ->> HDS: Real-time patient data
    RDD ->> HDS: Real-time diagnostic data
    
    HDS ->> AIR: Process incoming data
    
    AIR ->> AIM: Route data to appropriate AI models
    AIM -->> AIR: Return analysis results
    
    AIR ->> PHD: Store data with retention policy
    
    PHD ->> RDB: De-identify & transform data
    RDB ->> RR: Secure transfer of anonymized data
    
    PHD ->> ACL: Provide protected data
    AIR ->> ACL: Provide controlled access
    
    ACL ->> HP: Authenticate & authorize access (TLS 1.3)
    HP -->> ACL: Request patient data/analysis
    ACL -->> HP: Return authorized data
    
    RR ->> RA: Provide anonymized data for research
    RA -->> RR: Request research datasets
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <script>
        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tabs
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons and panels
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding panel
                    button.classList.add('active');
                    const targetId = button.getAttribute('data-target');
                    document.getElementById(targetId).classList.add('active');
                    
                    // If switching to architecture tab, initialize/render mermaid
                    if (targetId === 'architecture-panel' || targetId === 'data-flow-panel') {
                        mermaid.init(undefined, document.querySelectorAll('.mermaid'));
                        
                        // Reset zoom for diagrams if switching to those tabs
                        if (targetId === 'data-flow-panel') {
                            currentZoom = 1;
                            updateZoom('sequence-diagram-wrapper');
                        }
                        if (targetId === 'architecture-panel') {
                            architectureZoom = 1;
                            updateArchitectureZoom();
                        }
                    }
                });
            });
            
            // Add attribution in console
            console.log('EdgeAI Point of Care Data Platform by Eden Advisory and DesignPlex');
            console.log('© 2025 Eden Advisory × DesignPlex - All Rights Reserved');
            
            // Make sure body takes full height to push footer to bottom
            document.body.style.minHeight = '100vh';
            document.body.style.display = 'flex';
            document.body.style.flexDirection = 'column';
            
            // Ensure footer stays at bottom
            const footer = document.querySelector('footer');
            const tabContent = document.querySelector('.tab-content');
            
            // Update heights when window resizes
            function updateLayout() {
                const headerHeight = document.querySelector('header').offsetHeight;
                const tabNavHeight = document.querySelector('.tab-navigation').offsetHeight;
                const footerHeight = footer.offsetHeight;
                const availableHeight = window.innerHeight - headerHeight - tabNavHeight - footerHeight;
                tabContent.style.height = `${availableHeight}px`;
            }
            
            // Initial layout update
            updateLayout();
            
            // Update on window resize
            window.addEventListener('resize', updateLayout);
            
            // Initialize Knowledge Graph
            initializeKnowledgeGraph();
            
            // Initialize mermaid for diagrams
            mermaid.initialize({
                startOnLoad: false,
                theme: 'dark',
                securityLevel: 'loose',
                flowchart: {
                    htmlLabels: true,
                    curve: 'basis'
                },
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    boxTextMargin: 5,
                    noteMargin: 10,
                    messageMargin: 35,
                    mirrorActors: false,
                    bottomMarginAdj: 10,
                    useMaxWidth: true
                },
                themeVariables: {
                    primaryColor: '#7000ff',
                    primaryTextColor: '#e0e7ff',
                    primaryBorderColor: '#7000ff',
                    lineColor: '#7000ff',
                    secondaryColor: '#ff00aa',
                    tertiaryColor: '#12171f',
                    // Sequence diagram specific
                    sequenceNumberColor: '#e0e7ff',
                    actorBorder: '#ff00aa',
                    actorBkg: '#192231',
                    actorTextColor: '#e0e7ff',
                    actorLineColor: '#ff00aa',
                    signalColor: '#e0e7ff',
                    signalTextColor: '#e0e7ff',
                    labelBoxBorderColor: '#ff00aa',
                    labelBoxBkgColor: '#192231',
                    labelTextColor: '#e0e7ff',
                    loopTextColor: '#e0e7ff',
                    noteBorderColor: '#ff00aa',
                    noteBkgColor: '#192231',
                    noteTextColor: '#e0e7ff',
                    activationBorderColor: '#ff00aa',
                    activationBkgColor: '#192231',
                    sequenceDiagram: {
                        actorFontFamily: "'Segoe UI', 'Roboto', sans-serif",
                        actorFontSize: 14,
                        actorFontWeight: 'bold',
                        noteFontFamily: "'Segoe UI', 'Roboto', sans-serif",
                        noteFontSize: 14,
                        messageFontFamily: "'Segoe UI', 'Roboto', sans-serif",
                        messageFontSize: 14
                    }
                }
            });
            
            // Add zoom functionality for the sequence diagram
            let currentZoom = 1;
            document.getElementById('zoom-in').addEventListener('click', function() {
                currentZoom += 0.1;
                updateZoom('sequence-diagram-wrapper');
            });
            
            document.getElementById('zoom-out').addEventListener('click', function() {
                currentZoom = Math.max(0.5, currentZoom - 0.1);
                updateZoom('sequence-diagram-wrapper');
            });
            
            document.getElementById('zoom-reset').addEventListener('click', function() {
                currentZoom = 1;
                updateZoom('sequence-diagram-wrapper');
            });
            
            // Add zoom functionality for the architecture diagram
            let architectureZoom = 1;
            document.getElementById('architecture-zoom-in').addEventListener('click', function() {
                architectureZoom += 0.1;
                updateArchitectureZoom();
            });
            
            document.getElementById('architecture-zoom-out').addEventListener('click', function() {
                architectureZoom = Math.max(0.5, architectureZoom - 0.1);
                updateArchitectureZoom();
            });
            
            document.getElementById('architecture-zoom-reset').addEventListener('click', function() {
                architectureZoom = 1;
                updateArchitectureZoom();
            });
            
            function updateZoom(wrapperId) {
                const wrapper = document.getElementById(wrapperId);
                const diagram = wrapper.querySelector('.mermaid');
                diagram.style.transform = `scale(${currentZoom})`;
                diagram.style.transformOrigin = 'top center';
            }
            
            function updateArchitectureZoom() {
                const wrapper = document.getElementById('architecture-diagram-wrapper');
                const diagram = wrapper.querySelector('.mermaid');
                diagram.style.transform = `scale(${architectureZoom})`;
                diagram.style.transformOrigin = 'top center';
            }
        });
        
        // Knowledge Graph Functionality
        function initializeKnowledgeGraph() {
            // Define data
            const clusterNames = {
                "Cluster A": { name: "Wearable Monitoring", color: "#FF5733", id: "cluster-a" },
                "Cluster B": { name: "Portable Imaging", color: "#33FF57", id: "cluster-b" },
                "Cluster C": { name: "Adaptive Therapeutics", color: "#3357FF", id: "cluster-c" },
                "Cluster D": { name: "Point-of-Care Diagnostics", color: "#F033FF", id: "cluster-d" },
                "Cluster E": { name: "Surgical Assistance", color: "#FF33F0", id: "cluster-e" },
                "Cluster F": { name: "Rehabilitation Systems", color: "#FFBD33", id: "cluster-f" },
                "Cluster G": { name: "Smart Implantables", color: "#33FFF0", id: "cluster-g" },
                "Cluster H": { name: "Neurological Assessment", color: "#BD33FF", id: "cluster-h" }
            };
            
            const data = {
                nodes: [],
                links: []
            };
            
            // Add cluster nodes
            Object.entries(clusterNames).forEach(([key, value]) => {
                data.nodes.push({
                    id: value.id,
                    name: value.name,
                    type: "cluster",
                    color: value.color,
                    value: 20,
                    description: `Platform technology for ${value.name.toLowerCase()} applications`,
                    market: "Multi-billion dollar opportunity across multiple segments"
                });
            });
            
            // Add opportunity nodes and links to clusters
            const opportunities = [
                {
                    id: 1,
                    name: "Ultrasound Accessibility in Rural Settings",
                    problem: "Inconsistent quality in ultrasound imaging in underserved areas",
                    solution: "AI-guided portable ultrasound with real-time feedback for non-specialists",
                    tam: "$9,320 M",
                    clusterNames: ["Cluster B"]
                },
                {
                    id: 2,
                    name: "Diabetic Retinopathy Early Detection",
                    problem: "Delayed diagnosis leading to preventable vision loss",
                    solution: "Compact, affordable retinal imaging with integrated AI for immediate screening",
                    tam: "$482 M",
                    clusterNames: ["Cluster B"]
                },
                {
                    id: 3,
                    name: "Stroke Triage Optimization",
                    problem: "Inefficient triage of stroke patients for appropriate interventions",
                    solution: "Portable EEG with AI analysis to differentiate stroke types before imaging",
                    tam: "$3,840 M",
                    clusterNames: ["Cluster D"]
                },
                {
                    id: 4,
                    name: "Early Sepsis Detection",
                    problem: "Delayed detection of sepsis in hospitalized patients",
                    solution: "Wearable multi-sensor with AI monitoring that integrates vitals and biomarkers",
                    tam: "$1,200 M",
                    clusterNames: ["Cluster A"]
                },
                {
                    id: 5,
                    name: "Parkinson's Disease Progression Monitoring",
                    problem: "Inconsistent monitoring of disease progression",
                    solution: "Wearable sensors with AI analysis quantifying motor symptoms in real-world",
                    tam: "$5,260 M",
                    clusterNames: ["Cluster A"]
                },
                {
                    id: 6,
                    name: "Epilepsy Management System",
                    problem: "Difficult management of treatment-resistant epilepsy",
                    solution: "Wearable EEG with AI seizure prediction and automated medication delivery",
                    tam: "$750 M",
                    clusterNames: ["Cluster A", "Cluster C"]
                },
                {
                    id: 7,
                    name: "Smart Medication Adherence System",
                    problem: "Suboptimal adherence in patients with complex medication regimens",
                    solution: "Smart dispenser with cameras and sensors verifying correct medication intake",
                    tam: "$2,510 M",
                    clusterNames: []
                },
                {
                    id: 8,
                    name: "Advanced Wound Care Management",
                    problem: "Inefficient wound care monitoring and treatment adjustment",
                    solution: "Smartphone attachment with sensors analyzing wound characteristics",
                    tam: "$413 M",
                    clusterNames: []
                },
                {
                    id: 9,
                    name: "Remote Pulmonary Function Assessment",
                    problem: "Limited access to pulmonary function testing",
                    solution: "Portable spirometer with AI providing clinical-grade assessment",
                    tam: "$1,100 M",
                    clusterNames: ["Cluster D"]
                },
                {
                    id: 10,
                    name: "Home-Based Sleep Apnea Diagnosis",
                    problem: "Delayed diagnosis of sleep apnea",
                    solution: "Non-invasive wearable sleep monitoring system with AI diagnostics",
                    tam: "$2,180 M",
                    clusterNames: ["Cluster D"]
                },
                {
                    id: 11,
                    name: "Advanced Fetal Monitoring",
                    problem: "Subjective assessment of fetal wellbeing during labor",
                    solution: "Fetal monitor with AI interpretation predicting distress with higher accuracy",
                    tam: "$3,760 M",
                    clusterNames: ["Cluster E"]
                },
                {
                    id: 12,
                    name: "Smart Otoscope for Ear Infection Diagnosis",
                    problem: "Misdiagnosis of pediatric ear infections",
                    solution: "Smartphone otoscope with AI distinguishing bacterial from viral causes",
                    tam: "$220 M",
                    clusterNames: ["Cluster D"]
                },
                {
                    id: 13,
                    name: "Heart Failure Monitoring Platform",
                    problem: "Inefficient monitoring of heart failure patients",
                    solution: "Wearable patch combining multiple sensors to predict decompensation",
                    tam: "$10,000 M",
                    clusterNames: ["Cluster A", "Cluster C"]
                },
                {
                    id: 18,
                    name: "Objective Concussion Assessment",
                    problem: "Subjective assessment of concussion and recovery",
                    solution: "Portable device combining EEG, eye tracking with AI analysis",
                    tam: "$7,420 M",
                    clusterNames: ["Cluster H"]
                },
                {
                    id: 20,
                    name: "Intelligent CPAP System",
                    problem: "Inefficient CPAP titration for sleep apnea",
                    solution: "Smart CPAP device adjusting settings based on real-time patterns",
                    tam: "$9,700 M",
                    clusterNames: ["Cluster C"]
                },
                {
                    id: 22,
                    name: "Predictive Glucose Management System",
                    problem: "Challenging management of type 1 diabetes",
                    solution: "Closed-loop insulin delivery with AI predicting glucose trends",
                    tam: "$5,260 M",
                    clusterNames: ["Cluster C"]
                },
                {
                    id: 25,
                    name: "Inflammatory Bowel Disease Predictor",
                    problem: "Unpredictable flares in inflammatory bowel disease",
                    solution: "Ingestible sensor with AI predicting disease flares before symptoms",
                    tam: "$700 M",
                    clusterNames: ["Cluster G"]
                },
                {
                    id: 31,
                    name: "AI-Guided Rehabilitation System",
                    problem: "Limited real-time feedback in physical therapy",
                    solution: "Wearable sensors providing real-time feedback on exercise form",
                    tam: "$16,960 M",
                    clusterNames: ["Cluster F"]
                },
                {
                    id: 35,
                    name: "Personalized Neuromodulation for Pain",
                    problem: "Difficult management of chronic pain",
                    solution: "Wearable neuromodulation with AI learning individual pain patterns",
                    tam: "$7,400 M",
                    clusterNames: ["Cluster C"]
                },
                {
                    id: 41,
                    name: "Remote Neuropsychological Assessment",
                    problem: "Limited access to neuropsychological assessment",
                    solution: "Portable system providing comprehensive evaluation comparable to specialist testing",
                    tam: "$5,200 M",
                    clusterNames: ["Cluster H"]
                }
            ];
            
            // Add opportunities to nodes
            opportunities.forEach(opp => {
                // Determine color based on cluster (use the first cluster if multiple)
                let color = "#FFFFFF"; // Default white for no cluster
                if (opp.clusterNames.length > 0) {
                    color = clusterNames[opp.clusterNames[0]].color;
                }
                
                // Add node
                data.nodes.push({
                    id: `opp-${opp.id}`,
                    name: opp.name,
                    type: "opportunity",
                    problem: opp.problem,
                    solution: opp.solution,
                    tam: opp.tam,
                    value: 10,
                    color: color
                });
                
                // Add links to clusters
                opp.clusterNames.forEach(cluster => {
                    data.links.push({
                        source: `opp-${opp.id}`,
                        target: clusterNames[cluster].id,
                        value: 1
                    });
                });
            });

            // Create the visualization
            const width = document.querySelector('#graph-panel').clientWidth;
            const height = document.querySelector('#graph-panel').clientHeight;
            
            // Create SVG
            const svg = d3.select("#graph-panel .visualization")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            // Add zoom functionality
            const zoom = d3.zoom()
                .scaleExtent([0.2, 5])
                .on("zoom", (event) => {
                    container.attr("transform", event.transform);
                });
            
            svg.call(zoom);
            
            const container = svg.append("g");
            
            // Handle mobile vs desktop sizing
            const isMobile = window.innerWidth < 768;
            const nodeRadius = isMobile ? 15 : 10;
            const linkDistance = isMobile ? 80 : 100;
            const chargeStrength = isMobile ? -200 : -300;
            
            // Create simulation
            const simulation = d3.forceSimulation(data.nodes)
                .force("link", d3.forceLink(data.links).id(d => d.id).distance(linkDistance))
                .force("charge", d3.forceManyBody().strength(chargeStrength))
                .force("center", d3.forceCenter(width / 2, height / 2))
                .force("collide", d3.forceCollide().radius(d => (d.type === "cluster" ? 20 : nodeRadius) * 1.5))
                .force("x", d3.forceX(width / 2).strength(0.05))
                .force("y", d3.forceY(height / 2).strength(0.05));
            
            // Create links
            const link = container.append("g")
                .selectAll("line")
                .data(data.links)
                .join("line")
                .attr("class", "link")
                .attr("stroke", d => {
                    const targetNode = data.nodes.find(node => node.id === d.target.id || node.id === d.target);
                    return targetNode ? targetNode.color : "#666";
                })
                .attr("stroke-width", d => Math.sqrt(d.value) * 2);
            
            // Create nodes
            const node = container.append("g")
                .selectAll(".node")
                .data(data.nodes)
                .join("g")
                .attr("class", "node")
                .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended));
            
            // Add circles for nodes
            node.append("circle")
                .attr("r", d => d.type === "cluster" ? 20 : nodeRadius)
                .attr("fill", d => d.color)
                .attr("stroke", "#fff")
                .attr("stroke-width", 1.5)
                .attr("class", d => d.type === "cluster" ? "cluster-node hover-glow" : "hover-glow")
                .on("click", showInfo);
            
            // Add text labels with mobile optimization
            node.append("text")
                .attr("dx", d => d.type === "cluster" ? 0 : (isMobile ? 16 : 12))
                .attr("dy", d => d.type === "cluster" ? 0 : 4)
                .attr("text-anchor", d => d.type === "cluster" ? "middle" : "start")
                .text(d => {
                    // Shorter text on mobile
                    if (isMobile) {
                        return d.name.length > 20 ? d.name.substring(0, 17) + "..." : d.name;
                    } else {
                        return d.name.length > 30 ? d.name.substring(0, 27) + "..." : d.name;
                    }
                })
                .attr("font-size", d => d.type === "cluster" ? (isMobile ? 10 : 12) : (isMobile ? 8 : 10))
                .attr("font-weight", d => d.type === "cluster" ? "bold" : "normal");
            
            // Update positions on tick
            simulation.on("tick", () => {
                link
                    .attr("x1", d => d.source.x)
                    .attr("y1", d => d.source.y)
                    .attr("x2", d => d.target.x)
                    .attr("y2", d => d.target.y);
                
                node.attr("transform", d => `translate(${d.x},${d.y})`);
            });
            
            // Drag functions
            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }
            
            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }
            
            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }
            
            // Info panel functions
            function showInfo(event, d) {
                const infoPanel = document.querySelector(".info-panel");
                const infoTitle = document.querySelector(".info-title");
                const infoContent = document.querySelector(".info-content");
                
                infoTitle.textContent = d.name;
                
                let content = "";
                if (d.type === "cluster") {
                    content = `
                        <p><strong>Type:</strong> Technology Platform</p>
                        <p><strong>Description:</strong> ${d.description}</p>
                        <p><strong>Market Opportunity:</strong> ${d.market}</p>
                        <p>This cluster contains multiple healthcare innovation opportunities that leverage edge AI technology.</p>
                    `;
                } else {
                    content = `
                        <p><strong>Problem:</strong> ${d.problem}</p>
                        <p><strong>Solution:</strong> ${d.solution}</p>
                        <p><strong>Market Size (TAM):</strong> ${d.tam}</p>
                    `;
                }
                
                infoContent.innerHTML = content;
                infoPanel.classList.add("visible");
                
                // Highlight connected nodes and links
                highlightConnections(d);
            }
            
            // Hide info panel when clicking elsewhere
            svg.on("click", function(event) {
                if (event.target === this) {
                    document.querySelector(".info-panel").classList.remove("visible");
                    
                    // Reset highlighting
                    resetHighlights();
                }
            });
            
            // Close button for info panel (mobile friendly)
            document.querySelector(".info-panel-close").addEventListener("click", function() {
                document.querySelector(".info-panel").classList.remove("visible");
                resetHighlights();
            });
            
            // Function to highlight connections
            function highlightConnections(d) {
                resetHighlights();
                
                // Find all connected links and nodes
                const connectedNodeIds = [d.id];
                
                // Find directly connected nodes through links
                data.links.forEach(link => {
                    if (link.source.id === d.id) {
                        connectedNodeIds.push(link.target.id);
                    } else if (link.target.id === d.id) {
                        connectedNodeIds.push(link.source.id);
                    }
                });
                
                // Dim all nodes and links
                d3.selectAll(".link").style("opacity", 0.1);
                node.selectAll("circle").style("opacity", 0.2);
                node.selectAll("text").style("opacity", 0.2);
                
                // Highlight connected nodes and links
                node.filter(node => connectedNodeIds.includes(node.id)).selectAll("circle").style("opacity", 1);
                node.filter(node => connectedNodeIds.includes(node.id)).selectAll("text").style("opacity", 1);
                
                d3.selectAll(".link").filter(link => 
                    connectedNodeIds.includes(link.source.id) && connectedNodeIds.includes(link.target.id)
                ).style("opacity", 1);
            }
            
            // Reset highlights
            function resetHighlights() {
                d3.selectAll(".link").style("opacity", 0.5);
                node.selectAll("circle").style("opacity", 1);
                node.selectAll("text").style("opacity", 1);
            }
            
            // Control buttons
            document.getElementById("reset-zoom").addEventListener("click", function() {
                svg.transition().duration(750).call(
                    zoom.transform,
                    d3.zoomIdentity,
                    d3.zoomTransform(svg.node()).invert([width / 2, height / 2])
                );
            });
            
            document.getElementById("toggle-layout").addEventListener("click", function() {
                simulation
                    .force("charge", d3.forceManyBody().strength(-300 * Math.random() * 2))
                    .alpha(1)
                    .restart();
            });
            
            // Initial zoom to fit - different for mobile
            const initialScale = isMobile ? 0.6 : 0.8;
            const initialTranslateX = isMobile ? width / 3 : width / 5;
            const initialTranslateY = isMobile ? height / 3 : height / 4;
            const initialTransform = d3.zoomIdentity.scale(initialScale).translate(initialTranslateX, initialTranslateY);
            svg.call(zoom.transform, initialTransform);
            
            // Add touch event listeners for mobile
            if ('ontouchstart' in window) {
                // Prevent zoom issues on mobile
                document.addEventListener('touchmove', function(event) {
                    if (event.scale !== 1) {
                        event.preventDefault();
                    }
                }, { passive: false });
                
                // Double tap to reset view
                let lastTap = 0;
                svg.node().addEventListener('touchend', function(event) {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;
                    if (tapLength < 300 && tapLength > 0) {
                        // Double tap detected
                        svg.transition().duration(750).call(
                            zoom.transform,
                            d3.zoomIdentity.scale(initialScale).translate(initialTranslateX, initialTranslateY)
                        );
                    }
                    lastTap = currentTime;
                });
            }
        }
    </script>
</body>
<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-logo">Edge<span>AI</span> Healthcare</div>
            <div class="footer-credit">© 2025 <a href="https://eden.yeetum.com" target="_blank" rel="noopener">Eden Advisory</a> × <a href="https://designplexbio.com" target="_blank" rel="noopener">DesignPlex</a> - All rights reserved</div>
        </div>
    </div>
</footer>
</html>
